<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="./assets/img/favicon.png">
  <title>
    Farmer's Dashboard
  </title>
  <link rel="stylesheet" href="/investor.css">
  <link rel="stylesheet" href="/investor.js">
  <style>
    .rectangle {
      width: calc(100% - 40px);
      background-color: #f0f0f0;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin: 20px;
      padding: 20px;
      box-sizing: border-box;
    }

    .card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      padding: 20px;
    }

    .card h3 {
      margin-bottom: 20px;
    }

    .market-section {
      margin-bottom: 40px;
    }

    canvas {
      max-width: 100%;
    }

    #seasonalTrendsChart {
      max-width: 400px;
      margin: 0 auto;
    }
  </style>
</head>

<body class="g-sidenav-show bg-gray-100">
  <div class="min-height-300 bg-primary position-absolute w-100"></div>
  <aside class="sidenav bg-white navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-4 " id="sidenav-main">
    <div class="sidenav-header">
      <i class="fas fa-times p3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
      <a class="navbar-brand m-0" target="_blank">
        <span class="ms-1 font-weight-bold">Farmer Dashboard</span>
      </a>
    </div>
    <hr class="horizontal dark mt-0">
    <div class="collapse navbar-collapse w-auto " id="sidenav-collapse-main">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/farmerDash">
            <span class="nav-link-text ms-1">Opportunities</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/farmersConnect">
            <span class="nav-link-text ms-1">Farmers</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/marketInfo">
            <span class="nav-link-text ms-1">Market Information</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/marketlist">
            <span class="nav-link-text ms-1">Market</span>
          </a>
        </li>
        {{! <li class="nav-item">
          <a class="nav-link" href="/farmerProfile">
            <span class="nav-link-text ms-1">Profile</span>
          </a>
        </li> }}
        <li class="nav-item">
          <a class="nav-link" href="/farmerschat">
            <span class="nav-link-text ms-1">Chat</span>
          </a>
        </li>
      </ul>
    </div>
  </aside>

  <main class="main-content position-relative border-radius-lg ">
    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur" data-scroll="false">
      <div class="container-fluid py-1 px-3">
        <nav aria-label="breadcrumb">
          <h5 class="font-weight-bolder text-white mb-0">TERIMBERE</h5>
        </nav>
        <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
          <div class="ms-md-auto pe-md-3 d-flex align-items-center">
          </div>
          <ul class="navbar-nav justify-content-end">
            <li class="nav-item d-flex align-items-center">
              <a href="/signout" class="nav-link text-white font-weight-bold px-0">
                <i class="fa fa-user me-sm-1"></i>
                <span class="d-sm-inline d-none">Sign Out</span>
              </a>
            </li>
            <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-white p-0" id="iconNavbarSidenav">
                <div class="sidenav-toggler-inner">
                  <i class="sidenav-toggler-line bg-white"></i>
                  <i class="sidenav-toggler-line bg-white"></i>
                  <i class="sidenav-toggler-line bg-white"></i>
                </div>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->

    <!-- Rectangle Section -->
    <div class="rectangle">
      <div class="card market-section">
        <h3>Current Market Trade</h3>
        <canvas id="marketTradeChart"></canvas>
        <br>
        <p>Overview: This chart shows the demand for various food crops throughout the year, reflecting Rwanda's agricultural cycles. It provides insights into how the demand fluctuates seasonally, helping farmers make informed decisions about when to plant in specific crops.</p>
      </div>
      <div class="card market-section">
        <h3>Crops in High Demand</h3>
        <canvas id="cropsDemandChart"></canvas>
        <br>
        <p>Overview: The bar chart illustrates the current demand for various crops. Potatoes, rice, and maize are in the highest demand, reflecting their significance in the market. This data is essential for farmers to understand which crops are most lucrative at the present moment.</p>
      </div>
      <div class="card market-section">
        <h3>Seasonal Crop Trends</h3>
        <canvas id="seasonalTrendsChart" width="400" height="400"></canvas>
        <br>
        <p>Overview: This chart highlights which crops grow best in Rwanda's wet and dry seasons. By analyzing these trends, Farmers can identify optimal planting and harvesting times, ensuring they capitalize on the peak seasons for each crop.</p>
      </div>
      <div class="card market-section">
        <h3>Market Insights</h3>
        <p>Recent Insights:</p>
        <ul>
          <li>Increased demand for organic produce has been observed, driving higher prices for organically grown crops.</li>
          <li>Weather patterns are predicted to affect crop yields in the upcoming season, with potential shortages in specific regions.</li>
          <li>New technologies in irrigation and crop management are being adopted, leading to improved efficiency and productivity.</li>
        </ul>
      </div>
    </div>
  </main>

  <!-- Core JS Files -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Market Trade Chart
      var ctx1 = document.getElementById('marketTradeChart').getContext('2d');
      var marketTradeChart = new Chart(ctx1, {
        type: 'line',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
          datasets: [{
            label: 'Maize',
            data: [10, 20, 15, 30, 25, 35, 45, 40, 30, 20, 15, 25],
            borderColor: 'rgba(75, 192, 192, 1)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            borderWidth: 1
          }, {
            label: 'Rice',
            data: [5, 10, 20, 15, 25, 35, 30, 40, 35, 25, 20, 15],
            borderColor: 'rgba(255, 99, 132, 1)',
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            borderWidth: 1
          }, {
            label: 'Beans',
            data: [15, 25, 20, 30, 35, 40, 45, 35, 30, 25, 20, 15],
            borderColor: 'rgba(54, 162, 235, 1)',
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            borderWidth: 1
          }, {
            label: 'Wheat',
            data: [20, 30, 25, 35, 40, 45, 50, 40, 35, 30, 25, 20],
            borderColor: 'rgba(255, 206, 86, 1)',
            backgroundColor: 'rgba(255, 206, 86, 0.2)',
            borderWidth: 1
          }, {
            label: 'Potatoes',
            data: [8, 18, 28, 20, 30, 40, 35, 25, 20, 30, 30, 35],
            borderColor: 'rgba(153, 102, 255, 1)',
            backgroundColor: 'rgba(153, 102, 255, 0.2)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });

      // Crops in High Demand Chart
      var ctx2 = document.getElementById('cropsDemandChart').getContext('2d');
      var cropsDemandChart = new Chart(ctx2, {
        type: 'bar',
        data: {
          labels: ['Maize', 'Wheat', 'Rice', 'Soybeans', 'Potatoes'],
          datasets: [{
            label: 'Demand (in tons)',
            data: [300, 250, 400, 350, 500],
            backgroundColor: [
              'rgba(255, 99, 132, 0.2)',
              'rgba(54, 162, 235, 0.2)',
              'rgba(255, 206, 86, 0.2)',
              'rgba(75, 192, 192, 0.2)',
              'rgba(153, 102, 255, 0.2)'
            ],
            borderColor: [
              'rgba(255, 99, 132, 1)',
              'rgba(54, 162, 235, 1)',
              'rgba(255, 206, 86, 1)',
              'rgba(75, 192, 192, 1)',
              'rgba(153, 102, 255, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });

      // Seasonal Crop Trends Chart
      var ctx3 = document.getElementById('seasonalTrendsChart').getContext('2d');
      var seasonalTrendsChart = new Chart(ctx3, {
        type: 'pie',
        data: {
          labels: ['Maize - Wet Season', 'Rice - Wet Season', 'Beans - Wet Season', 'Cassava - Dry Season', 'Sorghum - Dry Season'],
          datasets: [{
            label: 'Seasonal Trends',
            data: [120, 150, 100, 80, 70],
            backgroundColor: [
              'rgba(255, 99, 132, 0.2)',
              'rgba(54, 162, 235, 0.2)',
              'rgba(255, 206, 86, 0.2)',
              'rgba(75, 192, 192, 0.2)',
              'rgba(153, 102, 255, 0.2)'
            ],
            borderColor: [
              'rgba(255, 99, 132, 1)',
              'rgba(54, 162, 235, 1)',
              'rgba(255, 206, 86, 1)',
              'rgba(75, 192, 192, 1)',
              'rgba(153, 102, 255, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true
        }
      });
    });
  </script>
</body>

</html>
